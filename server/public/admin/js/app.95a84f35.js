(function(t){function e(e){for(var r,o,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)o=i[d],a[o]&&p.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],r=!0,i=1;i<s.length;i++){var l=s[i];0!==a[l]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},a={app:0},n=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/admin/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0177":function(t,e,s){"use strict";var r=s("5a49"),a=s.n(r);a.a},"0935":function(t,e,s){},"0b3a":function(t,e,s){"use strict";var r=s("fda6"),a=s.n(r);a.a},"12c4":function(t,e,s){},"27c7":function(t,e,s){},"37c5":function(t,e,s){"use strict";var r=s("a120"),a=s.n(r);a.a},"3a4f":function(t,e,s){"use strict";var r=s("12c4"),a=s.n(r);a.a},4678:function(t,e,s){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=n(t);return s(e)}function n(t){var e=r[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}a.keys=function(){return Object.keys(r)},a.resolve=n,t.exports=a,a.id="4678"},"513e":function(t,e,s){"use strict";var r=s("b688"),a=s.n(r);a.a},5654:function(t,e,s){"use strict";var r=s("f359"),a=s.n(r);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("el-container",{staticClass:"app-container"},[r("el-aside",{attrs:{width:"280px"}},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:s("9d64")}}),r("a",{attrs:{href:"/"}},[r("el-button",{attrs:{type:"primary"}},[t._v("Go to store")])],1),r("form",{attrs:{method:"post",action:"/admin/logout"}},[r("el-button",{attrs:{type:"link"}},[t._v("Logout")])],1)]),r("Navbar")],1),r("el-main",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"Loading...","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[r("router-view",{on:{"set-loading":function(e){return t.setLoading()},"stop-loading":function(e){return t.stopLoading()}}})],1)],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbar"},[s("el-row",{staticClass:"tac"},[s("el-col",{attrs:{span:24}},[s("el-menu",{ref:"navbar",staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.active}},[s("router-link",{attrs:{to:"/"}},[s("el-menu-item",{attrs:{index:"1"}},[s("i",{staticClass:"el-icon-data-analysis"}),s("span",[t._v("Dashboard")])])],1),s("router-link",{attrs:{to:"/customers"}},[s("el-menu-item",{attrs:{index:"3"}},[s("i",{staticClass:"el-icon-user"}),s("span",[t._v("Customers")])])],1),s("router-link",{attrs:{to:"/products"}},[s("el-menu-item",{attrs:{index:"4"}},[s("i",{staticClass:"el-icon-goods"}),s("span",[t._v("Products")])])],1),s("router-link",{attrs:{to:"/inventory"}},[s("el-menu-item",{attrs:{index:"5"}},[s("i",{staticClass:"el-icon-box"}),s("span",[t._v("Stock Management")])])],1),s("router-link",{attrs:{to:"/promotions"}},[s("el-menu-item",{attrs:{index:"6"}},[s("i",{staticClass:"el-icon-discount"}),s("span",[t._v("Promotions & Discounts")])])],1),s("el-submenu",{attrs:{index:"7"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-truck"}),s("span",[t._v("Orders")])]),s("router-link",{attrs:{to:"/fulfillment"}},[s("el-menu-item",{attrs:{index:"1-1"}},[s("i",{staticClass:"el-icon-magic-stick"}),t._v("Fulfillment wizard")])],1),s("router-link",{attrs:{to:"/orders"}},[s("el-menu-item",{attrs:{index:"1-2"}},[s("i",{staticClass:"el-icon-s-order"}),t._v("All orders")])],1)],2),s("router-link",{attrs:{to:"/setup"}},[s("el-menu-item",{attrs:{index:"8"}},[s("i",{staticClass:"el-icon-s-tools"}),s("span",[t._v("Setup")])])],1)],1)],1)],1)],1)},i=[],l=(s("7f7f"),{name:"navbar",data:function(){return{isCollapse:!1,active:"1"}},watch:{$route:function(t){switch(t.name){case"customers":this.active="3";break;case"products":case"newProduct":case"product":this.active="4";break;case"inventory":case"newAdjustment":this.active="5";break;case"promotions":case"newPromotion":this.active="6";break;case"fulfillment":this.active="1-1";break;case"setup":case"shipping-setup":case"new-shipping-method":this.active="8";break}}}}),c=l,u=s("2877"),d=Object(u["a"])(c,o,i,!1,null,null,null),p=d.exports,m={components:{Navbar:p},data:function(){return{loading:!1,stopLoad:!1}},methods:{stopLoading:function(){this.stopLoad=!0,this.loading=!1},setLoading:function(){var t=this;this.stopLoad=!1,window.setTimeout(function(){!1===t.stopLoad&&(t.loading=!0)},1e3)}}},h=m,f=(s("5c0b"),Object(u["a"])(h,a,n,!1,null,null,null)),g=f.exports,v=s("8c4f"),y=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard"},[s("h1",{staticClass:"title title--primary"},[t._v("Your Dashboard")]),s("p",[t._v("The dashboard feature is coming soon. Get started by selecting from the menu bar on the left.")])])}],_={},w=Object(u["a"])(_,y,b,!1,null,null,null),k=w.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("h1",{staticClass:"title title--primary title--backgrounded"},[t._v("Hey there!")]),s("section",{staticClass:"section"},[s("h2",{staticClass:"title title--secondary"},[t._v("Login to your account")]),s("el-form",[s("el-form-item",{attrs:{label:"Username"}},[s("el-input",{attrs:{placeholder:"username"}})],1),s("el-form-item",{attrs:{label:"Password"}},[s("el-input",{attrs:{placeholder:"password"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"}},[t._v("Login")])],1)],1)],1)])},x=[],j={name:"login",methods:{authenticate:function(){this.$axios.post("/login").then(function(){window.location.reload()}).catch(function(t){console.error(t)})}}},$=j,S=Object(u["a"])($,C,x,!1,null,null,null),P=S.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customers"},[s("h1",{staticClass:"title title--primary title--backgrounded"},[t._v("Customers")]),s("section",{staticClass:"section"},[s("el-table",{attrs:{data:t.customers,"row-class-name":"clickable-row",striped:""},on:{"row-click":function(e){return t.rowClicked(e)}}},[s("el-table-column",{attrs:{prop:"fullName",label:"Name",width:"255px"}}),s("el-table-column",{attrs:{prop:"contact.email",label:"Email address",width:"305px"}}),s("el-table-column",{attrs:{prop:"billingAddress",label:"Billing address",width:"400px"}}),s("el-table-column",{attrs:{label:"Orders",width:"350px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.orders.length)+"\n                    ")]}}])})],1),s("el-pagination",{attrs:{layout:"prev, pager, next","hide-on-single-page":!0,"page-count":t.totalPages},on:{"current-change":function(e){t.page=e-1}}})],1)])},A=[],O={name:"customers",data:function(){return{customersRaw:[],page:0,totalPages:null}},computed:{customers:function(){return this.customersRaw.map(function(t){var e=t.billingAddress,s=e.address;return e.flatNumber&&(s=e.flatNumber+", "+s),e.company&&(s=e.company+", "+s),t.billingAddress=s+", "+e.postcode+", "+e.city+", "+e.country.name,t.fullName=e.firstName+" "+e.lastName,t})}},mounted:function(){this.$emit("set-loading"),this.getCustomers()},methods:{getCustomers:function(){var t=this;this.$axios.get("/customers").then(function(e){t.customersRaw=e.data.customers,t.$emit("stop-loading")}).catch(function(){t.$message.error("Error loading customers. Please contact your system administrator."),t.$emit("stop-loading")})},rowClicked:function(t){this.$router.push("/customers/"+t._id)}}},N=O,R=Object(u["a"])(N,F,A,!1,null,null,null),E=R.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-customer"},[t.customer?s("div",[s("el-page-header",{attrs:{title:"back to all customers",content:t.customer.billingAddress.firstName+" "+t.customer.billingAddress.lastName},on:{back:function(e){return t.$router.push("/customers")}}}),s("h1",{staticClass:"title title--primary"},[t._v("\n            "+t._s(t.customer.billingAddress.firstName)+" "+t._s(t.customer.billingAddress.lastName)+"\n        ")]),s("h2",[t._v("Contact")]),s("p",[s("strong",[t._v(t._s(t.customer.contact.email))])]),s("h2",[t._v("Billing address")]),s("div",{staticClass:"address"},[s("p",[t._v(t._s(t.customer.billingAddress.firstName)+" "+t._s(t.customer.billingAddress.lastName))]),s("p",[t._v(t._s(t.customer.billingAddress.address))]),s("p",[t._v(t._s(t.customer.billingAddress.postcode))]),s("p",[t._v(t._s(t.customer.billingAddress.city))]),s("p",[t._v(t._s(t.customer.billingAddress.country.name))])]),s("h2",[t._v("Orders")]),s("OrderTable",{attrs:{ordersRaw:t.customer.orders}})],1):t._e()])},z=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-table",{attrs:{data:t.orders,"row-class-name":"clickable-row",stripe:""},on:{"row-click":function(e){return t.rowClicked(e)}}},[s("el-table-column",{attrs:{label:"Order ID",width:"135px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v("#..."+t._s(e.row._id.substr(19)))])]}}])}),s("el-table-column",{attrs:{prop:"date",label:"Date",width:"155px"}}),s("el-table-column",{attrs:{label:"Customer",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.fulfillment.shippingAddress.firstName)+" "+t._s(e.row.fulfillment.shippingAddress.lastName))])]}}])}),s("el-table-column",{attrs:{prop:"numOfItems",label:"No. of items",width:"130px"}}),s("el-table-column",{attrs:{label:"Total",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v("£"+t._s(e.row.costs.grandTotal.toFixed(2)))])]}}])}),s("el-table-column",{attrs:{label:"Payment",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticStyle:{margin:"4px 0"}},["card"===e.row.payment.method&&e.row.payment.paymentCard.last4?s("span",[t._v(t._s(e.row.payment.paymentCard.brand)+" ending "+t._s(e.row.payment.paymentCard.last4))]):"card"===e.row.payment.method?s("span",[t._v("Card - details unconfirmed")]):s("span",[t._v("Manual payment - cash or other")])]),s("p",{staticClass:"payment-status",class:{pending:"pending"===e.row.payment.paymentStatus,paid:"paid"===e.row.payment.paymentStatus}},[t._v("\n                   "+t._s(e.row.payment.paymentStatus)+"\n               ")])]}}])}),s("el-table-column",{attrs:{label:"Order status",width:"280px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"order-status",class:{action:"Awaiting fulfillment"===e.row.fulfillment.orderStatus}},[t._v(t._s(e.row.fulfillment.orderStatus))]),"Awaiting fulfillment"===e.row.fulfillment.orderStatus?s("span",[s("br"),t._v(t._s(e.row.timeRemaining)+" until fulfillment deadline")]):t._e()]}}])})],1)},U=[],M=s("c1df"),I={name:"order-table",props:["ordersRaw"],computed:{orders:function(){return this.ordersRaw.map(function(t){var e=new Date(t.date);Date.now()-e.getTime()<36e5?t.date=M(e).fromNow():Date.now()-e.getTime()<1728e5?t.date=M(e).calendar():t.date=M(e).format("MMMM Do YYYY");var s=t.fulfillment.shippingAddress,r=s.address;if(s.flatNumber&&(r=s.flatNumber+", "+r),s.company&&(r=s.company+", "+r),t.shippingAddress=s.firstName+" "+s.lastName+", "+r+", "+s.postcode+", "+s.city+", "+s.country.name,t.numOfItems=t.items.reduce(function(t,e){return t+e.quantity},0),"Awaiting fulfillment"===t.fulfillment.orderStatus){var a=e.getTime()+36e5*t.fulfillment.shippingMethod.targetHours,n=a-Date.now();Math.abs(n)>36e5?t.timeRemaining=Math.floor(n/36e5)+" hours":t.timeRemaining=Math.floor(n/6e4)+" minutes"}return t})}},methods:{rowClicked:function(t){this.$router.push("/orders/"+t._id)}}},L=I,W=Object(u["a"])(L,D,U,!1,null,null,null),q=W.exports,B={name:"customer",props:["id"],components:{OrderTable:q},data:function(){return{customer:null}},mounted:function(){var t=this;24!==this.id.length?(this.$router.push("/customers"),this.$message.error("Whoops, that customer doesn't seem to exist. Redirecting to customers page.")):(this.$emit("set-loading"),this.$axios.get("/customers/"+this.id).then(function(e){t.customer=e.data.customer,t.$emit("stop-loading")}).catch(function(){t.$router.push("/customers"),t.$message.error("Whoops, that customer doesn't seem to exist. Redirecting to customers page."),t.$emit("stop-loading")}))}},H=B,Y=(s("7302"),Object(u["a"])(H,T,z,!1,null,"07055f98",null)),G=Y.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"products"},[s("h1",{staticClass:"title title--primary title--backgrounded"},[t._v("Products")]),s("section",{staticClass:"section"},[s("h3",{staticClass:"title title--tertiary"},[t._v("Filter products")]),s("div",{staticClass:"options"},[s("div",{staticClass:"filters"},[s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"Category"}},[s("el-select",{attrs:{multiple:"",placeholder:"Select categories"},on:{change:function(e){return t.getProducts()}},model:{value:t.selectedCategories,callback:function(e){t.selectedCategories=e},expression:"selectedCategories"}},t._l(t.categories,function(t,e){return s("el-option",{key:e,attrs:{label:t.name,value:t._id}})}),1)],1),s("el-form-item",{attrs:{label:"Price range"}},[s("el-slider",{attrs:{range:"",step:5,max:500},on:{change:function(e){return t.getProducts()}},model:{value:t.priceRange,callback:function(e){t.priceRange=e},expression:"priceRange"}})],1)],1)],1),s("router-link",{attrs:{to:"/products/new"}},[s("el-button",{attrs:{rounded:"",type:"success"}},[t._v("New Product")])],1)],1)]),s("section",{staticClass:"section"},[t.products.length>0?s("ProductGrid",{attrs:{products:t.products},on:{reload:function(e){return t.getProducts()}}}):s("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center","padding-top":"70px"}},[s("p",{staticClass:"title title--secondary"},[t._v("Whoops, no products found")])]),s("el-pagination",{attrs:{layout:"prev, pager, next","hide-on-single-page":!0,"page-count":t.totalPages},on:{"current-change":function(e){t.page=e-1}}})],1)])},J=[],Q=(s("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-grid"},[s("el-container",t._l(t.products,function(e,r){return s("el-col",{key:r,attrs:{xs:24,sm:12,md:12,lg:6,xl:4}},[s("el-card",{attrs:{"body-style":{padding:"0px"}}},[s("div",{staticClass:"live-status"},[s("el-switch",{attrs:{"inactive-text":"Disabled","active-text":"Live"},on:{change:function(s){return t.updateLive(s,e)}},model:{value:e.live,callback:function(s){t.$set(e,"live",s)},expression:"product.live"}})],1),e.content.images.length>0?s("el-carousel",{attrs:{height:"250px",autoplay:!1}},t._l(e.content.images,function(t,e){return s("el-carousel-item",{key:e},[s("img",{staticClass:"image",attrs:{src:t.path}})])}),1):s("PlaceholderImage",{attrs:{height:"250px"}}),s("div",{staticClass:"card__content"},[s("router-link",{attrs:{to:"/products/"+e._id}},[s("h2",[t._v(t._s(e.content.name))])]),s("div",{staticClass:"category"},[s("h3",[t._v(t._s(e.category.name))]),s("p",[t._v("£"+t._s(e.inventory.price.toFixed(2)))])]),s("p",[t._v("Current available stock: "+t._s(e.inventory.totalStock-e.inventory.inFulfillment))]),e.inventory.totalStock-e.inventory.inFulfillment<1?s("p",{staticStyle:{color:"#dd6161"}},[t._v("OUT OF STOCK")]):t._e(),s("div",{staticClass:"bottom clearfix"},[s("el-row",[s("router-link",{attrs:{to:"/products/"+e._id}},[s("el-button",{attrs:{size:"small",icon:"el-icon-edit",round:""}},[t._v("Edit")])],1),s("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",round:""},on:{click:function(e){t.deleting=!0}}},[t._v("Delete")]),s("el-dialog",{attrs:{visible:t.deleting,width:"30%","before-close":t.deleteProduct},on:{"update:visible":function(e){t.deleting=e}}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("Permenantly delete "),s("strong",[t._v(t._s(e.content.name))]),t._v("?")]),s("span",[t._v('Are you sure you want to permentantly remove this product from the site? This will remove all data about the product from the database, and is irreversible. To remove the product with the option to relist it later, use the "disable" switch instead.')]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.deleting=!1}}},[t._v("Cancel")]),s("el-button",{attrs:{type:"danger"},on:{click:function(s){return t.deleteProduct(e,r)}}},[t._v("Permenantly delete")])],1)])],1)],1)],1)],1)],1)}),1)],1)}),K=[],X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"placeholder-image",style:{height:t.height}},[s("i",{staticClass:"el-icon-picture-outline"})])},Z=[],tt={name:"placeholder-image",props:["height"]},et=tt,st=(s("764c"),Object(u["a"])(et,X,Z,!1,null,"3b715371",null)),rt=st.exports,at={name:"product-grid",props:["products","loading"],data:function(){return{deleting:!1}},components:{PlaceholderImage:rt},methods:{deleteProduct:function(t){var e=this;this.$axios.delete("/products/"+t._id).then(function(){e.$emit("reload"),e.$message.success("Permenantly deleted "+t.content.name)}).catch(function(){e.$message.error("Error deleting "+t.content.name+". Please contact your system administrator.")}),this.deleting=!1},updateLive:function(t,e){var s=this;this.$axios.put("/products/"+e._id,{toUpdate:"live",updateWith:t}).then(function(){var e=t?"Made live - Product is now visible and available to purchase on customer facing site. To reverse this action, click the slider again.":"Product removed from customer facing site. This item can no longer be added to cart. Any in-cart or completed orders are unaffected. You can reenable it at any time.";s.$message.success(e)}).catch(function(){s.$message.error("Failed to update product status")})}}},nt=at,ot=(s("ddd1"),Object(u["a"])(nt,Q,K,!1,null,"f037fd0e",null)),it=ot.exports,lt={name:"products",data:function(){return{selectedCategories:[],categories:[],priceRange:[0,500],products:[],totalPages:null,page:0}},components:{ProductGrid:it},watch:{page:function(){this.getProducts()}},mounted:function(){this.$emit("set-loading"),this.getProducts(!0)},methods:{getProducts:function(t){var e=this,s="?page="+this.page;this.selectedCategories.forEach(function(t){s=s+"&category="+t}),s=s+"&price="+this.priceRange[0]+"&price="+this.priceRange[1],this.$axios.get("/products"+s).then(function(s){t&&(e.categories=s.data.categories,e.selectedCategories=s.data.categories.map(function(t){return t._id})),e.products=s.data.products,e.totalPages=s.data.pages,window.document.getElementsByClassName("el-main")[0].scroll(0,0),e.$emit("stop-loading")}).catch(function(){e.$message.error("Error loading products. Please contact system administrator"),e.$emit("stop-loading")})}}},ct=lt,ut=(s("513e"),Object(u["a"])(ct,V,J,!1,null,null,null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"new-product"},[s("el-page-header",{attrs:{title:"back to all products",content:"New product"},on:{back:function(e){return t.$router.push("/products")}}}),s("h1",{staticClass:"title title--primary"},[t._v("Launch new product")]),s("el-form",{ref:"productForm",attrs:{"label-position":"top",model:t.productForm,rules:t.productFormRules}},[s("el-form-item",{attrs:{label:"Category",prop:"category"}},[s("el-select",{attrs:{placeholder:"Select categories"},model:{value:t.productForm.category,callback:function(e){t.$set(t.productForm,"category",e)},expression:"productForm.category"}},t._l(t.categories,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t._id}})}),1),s("el-button",{staticStyle:{"margin-left":"20px"},on:{click:function(e){t.showNewCategoryForm=!0}}},[t._v("Or create a new category")])],1),s("NewCategoryForm",{attrs:{show:t.showNewCategoryForm},on:{created:function(e){return t.createdCategory(e)},discard:function(e){t.showNewCategoryForm=!1}}}),s("el-form-item",{attrs:{label:"Product name",prop:"name"}},[s("el-input",{attrs:{placeholder:"Choose a name"},model:{value:t.productForm.name,callback:function(e){t.$set(t.productForm,"name",e)},expression:"productForm.name"}})],1),s("el-form-item",{attrs:{label:"Url reference",prop:"slug"}},[s("el-input",{attrs:{placeholder:"Choose a url reference"},model:{value:t.productForm.slug,callback:function(e){t.$set(t.productForm,"slug",e)},expression:"productForm.slug"}})],1),s("el-form-item",{attrs:{label:"Product description",prop:"description"}},[s("el-input",{attrs:{type:"textarea",placeholder:"Write a detailed description"},model:{value:t.productForm.description,callback:function(e){t.$set(t.productForm,"description",e)},expression:"productForm.description"}})],1),s("el-form-item",{attrs:{label:"Product images"}},[s("ImageUpload",{attrs:{showlist:!0},on:{finishedUpload:function(e){return t.updateProductImages(e)}}})],1),s("h3",[t._v("Pricing and fulfillment")]),s("el-form-item",{attrs:{label:"Price",prop:"price"}},[t._v("\n            £ "),s("el-input-number",{attrs:{controls:!1,precision:2},model:{value:t.productForm.price,callback:function(e){t.$set(t.productForm,"price",e)},expression:"productForm.price"}})],1),s("el-form-item",{attrs:{label:"Initial stock quantity (can be left as zero and added later if needed)",prop:"stock"}},[s("el-input-number",{attrs:{controls:!1,step:1,precision:0},model:{value:t.productForm.stock,callback:function(e){t.$set(t.productForm,"stock",e)},expression:"productForm.stock"}})],1),t.errors?s("el-alert",{attrs:{title:"Whoops",description:"Please correct the errors above",type:"error","show-icon":""}}):t._e(),s("el-form-item",{staticStyle:{"margin-top":"40px"}},[s("el-button",{attrs:{type:"success",loading:t.launchingProduct},on:{click:function(e){return t.submitForm("productForm")}}},[t._v("Launch product")]),s("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.discardProduct()}}},[t._v("Cancel - discard product")])],1)],1)],1)},mt=[],ht=(s("a481"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"image-upload"},[s("el-upload",{staticClass:"image-upload",attrs:{drag:"",action:"/api/admin/images","on-success":t.finishedUpload,multiple:"",limit:5,"show-file-list":t.showlist,"list-type":"picture"}},[s("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Click to upload")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("jpg/png files with a size less than 500kb")])],1)],1)}),ft=[],gt={name:"image-upload",props:["showlist"],methods:{finishedUpload:function(t){this.$emit("finishedUpload",t)}}},vt=gt,yt=(s("37c5"),Object(u["a"])(vt,ht,ft,!1,null,null,null)),bt=yt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"new-category-form"},[s("el-dialog",{attrs:{title:"New category",visible:t.show},on:{"update:visible":function(e){t.show=e}}},[s("el-form",{ref:"newCategoryForm",attrs:{model:t.newCategoryForm,rules:t.newCategoryFormRules}},[s("el-form-item",{staticStyle:{display:"flex"},attrs:{label:"Category name ",prop:"name"}},[s("el-input",{model:{value:t.newCategoryForm.name,callback:function(e){t.$set(t.newCategoryForm,"name",e)},expression:"newCategoryForm.name"}})],1),s("el-form-item",{staticStyle:{display:"flex"},attrs:{label:"Category url reference",prop:"slug"}},[s("el-input",{model:{value:t.newCategoryForm.slug,callback:function(e){t.$set(t.newCategoryForm,"slug",e)},expression:"newCategoryForm.slug"}})],1),s("el-form-item",{attrs:{label:"Category description",prop:"description"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.newCategoryForm.description,callback:function(e){t.$set(t.newCategoryForm,"description",e)},expression:"newCategoryForm.description"}})],1),s("el-form-item",{attrs:{label:"Category images"}},[s("ImageUpload",{on:{finishedUpload:function(e){return t.updateCategoryImages(e)}}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){return t.$emit("discard")}}},[t._v("Discard")]),s("el-button",{attrs:{type:"success"},on:{click:function(e){return t.createCategory("newCategoryForm")}}},[t._v("Create category")])],1)],1)],1)},wt=[],kt={props:["show"],components:{ImageUpload:bt},data:function(){return{newCategoryFormRules:{name:[{required:!0,message:"Please choose a product name",trigger:"blur"},{max:14,message:"Category name must be less than 15 characters",trigger:"blur"}],slug:[{required:!0,message:"Please choose a url reference",trigger:"blur"},{min:3,max:20,message:"url reference must be between 3 and 20 characters",trigger:"blur"},{validator:this.validateSlug,message:"Url reference cannot contain white spaces",trigger:"blur"}],description:[{required:!0,message:"Please write a description",trigger:"blur"},{max:400,message:"description cannot be more than 400 characters",trigger:"blur"}]},newCategoryForm:{name:"",slug:"",description:"",images:[]}}},methods:{createCategory:function(t){var e=this;this.$refs[t].validate(function(s){s&&e.$axios.post("/categories",{name:e.newCategoryForm.name,description:e.newCategoryForm.description,slug:e.newCategoryForm.slug,images:e.newCategoryForm.images}).then(function(s){e.$emit("created",s.data),e.$message.success("Category created successfully. You can now select the category from the dropdown menu"),e.$refs[t].resetFields()}).catch(function(){e.$message.error("Whoops, something went wrong trying to create a new category. Please reload the page and try again, or contact the system administrator if issue persists.")})})},updateCategoryImages:function(t){this.newCategoryForm.images.push(t)}}},Ct=kt,xt=Object(u["a"])(Ct,_t,wt,!1,null,null,null),jt=xt.exports,$t={name:"new-product",components:{ImageUpload:bt,NewCategoryForm:jt},data:function(){return{showNewCategoryForm:!1,productForm:{name:"",description:"",slug:"",price:0,stock:0,weight:0,height:0,length:0,width:0,category:"",images:[],tmpDir:null},slugChanged:!1,errors:!1,categories:[],productFormRules:{name:[{required:!0,message:"Please choose a product name",trigger:"blur"},{min:5,max:31,message:"Product name must be between 5 and 30 characters",trigger:"blur"}],slug:[{required:!0,message:"Please choose a url reference",trigger:"blur"},{min:5,max:40,message:"url reference must be between 5 and 40 characters",trigger:"blur"},{validator:this.validateSlug,message:"Url reference cannot contain white spaces",trigger:"blur"}],description:[{required:!0,message:"Please write a description",trigger:"blur"}],price:[{required:!0,message:"Please choose a product price",trigger:"blur"}]},launchingProduct:!1}},mounted:function(){var t=this;this.$axios.get("/categories").then(function(e){t.categories=e.data}).catch(function(){t.$message.error("Whoops, error loading categories. Please contact the system administrator")})},methods:{autoCreateSlug:function(t){this.slugChanged||(this.slug=t.replace(/ /g,"-"))},handleExceed:function(t,e){this.$message.warning("The limit is 3, you selected ".concat(t.length," files this time, add up to ").concat(t.length+e.length," totally"))},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.errors=!0,!1;e.errors=!1;var s=e.productForm;e.launchingProduct=!0,e.$axios.post("/products",{content:{name:s.name,description:s.description,slug:s.slug,images:s.images},inventory:{price:s.price,totalStock:s.stock,inFulfillment:0},category:s.category}).then(function(){e.launchingProduct=!1,e.$message.success("Great! You launched a new product - "+s.name),e.$router.push("/products")}).catch(function(){e.launchingProduct=!1,e.$message.error("Whoops, something went wrong launching the product :(. Please check that you have filled out the form correctly and try again, then contact your system administrator")})})},createdCategory:function(t){this.categories.push(t),this.showNewCategoryForm=!1},discardProduct:function(){var t=this;this.$axios.delete("/images").then(function(){t.$router.push("/products")}).catch(function(){t.$message.warning("Warning: couldn't empty temporary image cache folder. This could cause issues in the future. Please make your system administrator aware of the issue."),t.$router.push("/products")})},updateProductImages:function(t){this.productForm.images.push(t)},validateSlug:function(t,e,s){e.indexOf(" ")>-1?s(new Error("Url reference cannot contain spaces")):s()}}},St=$t,Pt=(s("5654"),Object(u["a"])(St,pt,mt,!1,null,null,null)),Ft=Pt.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-product"},[t.product?s("div",[s("el-page-header",{attrs:{title:"back to all products",content:t.product.content.name},on:{back:function(e){return t.$router.push("/products")}}}),s("h1",{staticClass:"title title--primary title--backgrounded"},[t._v(t._s(t.product.content.name))]),s("section",{staticClass:"section"},[s("h2",{staticClass:"title title--secondary"},[t._v("Category")]),s("el-form",[s("el-form-item",{attrs:{prop:"category"}},[s("el-select",{attrs:{placeholder:"Select categories"},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.categories,function(t,e){return s("el-option",{key:e,attrs:{label:t.name,value:t._id}})}),1),s("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.update("category","category",t.categoryId)}}},[t._v("Update category")]),s("el-button",{staticStyle:{"margin-left":"20px"},on:{click:function(e){e.preventDefault(),t.showNewCategoryForm=!0}}},[t._v("Or create a new category")])],1)],1),s("NewCategoryForm",{attrs:{show:t.showNewCategoryForm},on:{created:function(e){return t.createdCategory(e)},discard:function(e){t.showNewCategoryForm=!1}}})],1),s("section",{staticClass:"section"},[s("h2",{staticClass:"title title--secondary"},[t._v("Images")]),s("div",{staticClass:"image-grid"},t._l(t.product.content.images,function(e,r){return s("div",{key:r,staticClass:"image"},[s("img",{attrs:{src:e.path}}),s("div",{staticClass:"overlay"},[s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(s){return t.deleteImage(e)}}})],1)])}),0),s("h3",{staticClass:"title title--tertiary",staticStyle:{"margin-top":"30px"}},[t._v("Upload new image")]),s("ImageUpload",{attrs:{showlist:!1},on:{finishedUpload:function(e){return t.addImageToProduct(e)}}})],1),s("section",{staticClass:"section"},[s("h2",{staticClass:"title title--secondary"},[t._v("Price and promotions")]),t.changing.price?s("div",[s("el-form",{ref:"newPriceForm",attrs:{"label-position":"left","label-width":"80px"}},[s("el-form-item",{attrs:{label:"New price"}},[t._v("\n                        £ "),s("el-input-number",{staticStyle:{width:"110px"},attrs:{max:25e3,precision:2,controls:!1,step:1},model:{value:t.product.inventory.price,callback:function(e){t.$set(t.product.inventory,"price",e)},expression:"product.inventory.price"}})],1),s("el-button",{attrs:{type:"success"},on:{click:function(e){return t.update("price","inventory.price",t.product.inventory.price)}}},[t._v("Update price")]),s("el-button",{on:{click:function(e){t.changing.price=!1}}},[t._v("Cancel")])],1)],1):s("div",[s("p",[t._v("Product currently priced at  "),s("strong",{staticStyle:{"font-size":"1.1em",color:"#6d0000"}},[t._v("£"+t._s(t.product.inventory.price))])]),s("el-button",{on:{click:function(e){t.changing.price=!0}}},[t._v("Change price")])],1),s("p",[t._v("No promotions currently active on this product")]),s("router-link",{attrs:{to:"/promotions/new"}},[s("el-button",{attrs:{type:"primary"}},[t._v("Create a promotion")])],1)],1),s("section",{staticClass:"section"},[s("h2",{staticClass:"title title--secondary"},[t._v("Inventory")]),s("el-table",{staticStyle:{width:"500px"},attrs:{data:t.inventoryData}},[s("el-table-column",{attrs:{prop:"total",label:"Total stock"}}),s("el-table-column",{attrs:{prop:"inFulfillment",label:"In fulfillment"}}),s("el-table-column",{attrs:{prop:"available",label:"Available stock"}})],1),s("router-link",{attrs:{to:"/inventory/new"}},[s("el-button",{attrs:{type:"primary"}},[t._v("Add or remove stock")])],1),t._m(0)],1)],1):t._e()])},Ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Note that "),s("strong",[t._v("total stock")]),t._v(" refers to all physical stock, including stock that is in placed orders that haven't yet been shipped. "),s("strong",[t._v("In fulfillment")]),t._v(" refers to stock in orders that have been placed, but haven't been shipped yet. "),s("strong",[t._v("Available stock")]),t._v(" refers to the remaining stock which is actually available to be ordered - this is the number shown on the public facing site.")])}],Nt={name:"product",props:["id"],components:{NewCategoryForm:jt,ImageUpload:bt},data:function(){return{changing:{price:!1,name:!1,category:!1,stock:!1},categoryId:null,categories:[],showNewCategoryForm:!1,product:null}},computed:{inventoryData:function(){return[{total:this.product.inventory.totalStock,available:this.product.inventory.totalStock-this.product.inventory.inFulfillment,inFulfillment:this.product.inventory.inFulfillment}]}},mounted:function(){24!==this.id.length?(this.$router.push("/products"),this.$message.error("Whoops, that product doesn't seem to exist. Redirecting to products page.")):this.getProduct()},methods:{getProduct:function(){var t=this;this.$emit("set-loading"),this.$axios.get("/products/"+this.id).then(function(e){var s=e.data;t.product=s,t.categoryId=s.category.id,t.$emit("stop-loading"),t.$axios.get("/categories").then(function(e){t.categories=e.data}).catch(function(){t.$message.error("Whoops, error loading categories. Please contact the system administrator")})}).catch(function(e){console.log(e),t.$router.push("/products"),t.$message.error("Whoops, looks like that product doesn't exist. Redirecting to products page."),t.$emit("stop-loading")})},update:function(t,e,s){var r=this;this.$axios.put("/products/"+this.product._id,{toUpdate:e,updateWith:s}).then(function(){r.$message.success(t+" successfully updated."),r.changing[t]=!1}).catch(function(){r.$message.error("Error updating "+t+". Please contact your system administrator.")})},createdCategory:function(t){this.categories.push(t),this.showNewCategoryForm=!1},addImageToProduct:function(t){var e=this;this.$axios.put("/products/"+this.product._id+"/images",t).then(function(){e.$message.success("Added new product image."),e.getProduct()}).catch(function(){e.$message.error("Error adding image. Please contact your system administrator."),e.getProduct()})},deleteImage:function(t){var e=this;this.$axios.delete("/products/"+this.product._id+"/images/"+t.filename).then(function(){e.$message.error("Deleted image."),e.getProduct()}).catch(function(){e.$message.warning("Error deleting image.")})}}},Rt=Nt,Et=(s("65db7"),Object(u["a"])(Rt,At,Ot,!1,null,"52680514",null)),Tt=Et.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inventory"},[s("h1",{staticClass:"title title--primary"},[t._v("Stock Management")]),s("router-link",{attrs:{to:"/inventory/new"}},[s("el-button",{attrs:{rounded:"",type:"success"}},[t._v("New Stock Update")])],1),s("h2",{staticClass:"title title--secondary"},[t._v("Stock update history")]),s("p",[t._v("Filter")]),s("div",{staticClass:"options"},[s("div",{staticClass:"filters"},[s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"Type"}},[s("el-select",{staticStyle:{width:"800px"},attrs:{multiple:"",placeholder:"Select type"},model:{value:t.selectedReasons,callback:function(e){t.selectedReasons=e},expression:"selectedReasons"}},t._l(t.reasons,function(t,e){return s("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),s("el-form-item",{attrs:{label:"Date range"}},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}),s("el-button",{on:{click:function(e){t.dateRange=[Date.now()-24192e5,Date.now()]}}},[t._v("Reset")])],1)],1)],1)]),s("el-table",{attrs:{data:t.adjustmentsComputed,"row-class-name":t.getRowClasses,"default-sort":{prop:"datetime",order:"descending"}}},[s("el-table-column",{attrs:{prop:"datetime",label:"Created",width:"300px"}}),s("el-table-column",{attrs:{label:"Type",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",["Delivery"===e.row.reason?s("i",{staticClass:"el-icon-truck",staticStyle:{"font-size":"25px","margin-right":"5px"}}):t._e(),t._v(t._s(e.row.reason))])]}}])}),s("el-table-column",{attrs:{label:"Products updated",width:"350px"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.products.slice(0,6),function(r,a){return s("span",{key:a},[t._v(t._s(r.name)+" "),a<e.row.products.slice(0,6).length-1?s("span",[t._v(", ")]):t._e()])})}}])}),s("el-table-column",{attrs:{label:"Notes",width:"400px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.notes.slice(0,100))+"\n                "),e.row.notes.length>100?s("span",[t._v("...")]):t._e()]}}])})],1),s("el-pagination",{attrs:{layout:"prev, pager, next","hide-on-single-page":!0,"page-count":t.totalPages},on:{"current-change":function(e){t.page=e-1}}})],1)},Dt=[],Ut={name:"inventory",data:function(){return{adjustments:[],reasons:["Delivery","Counting error","Sale(s) through untracked avenue","Defective/damaged product(s)","Loss/theft"],selectedReasons:["Delivery","Counting error","Sale(s) through untracked avenue","Defective/damaged product(s)","Loss/theft"],page:0,dateRange:[Date.now()-24192e5,Date.now()],totalPages:1}},mounted:function(){this.$emit("set-loading"),this.getAdjustments()},watch:{page:function(){this.getAdjustments()},dateRange:function(){this.getAdjustments(),this.page=0},selectedReasons:function(){this.getAdjustments(),this.page=0}},computed:{adjustmentsComputed:function(){return this.adjustments.map(function(t){var e=new Date(t.datetime);return t.datetime=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear(),t})}},methods:{getRowClasses:function(t){var e=t.row;return"increase"===e.type?"row-increase":"row-decrease"},getAdjustments:function(){var t=this;this.adjustments=[];var e="?page="+this.page;this.selectedReasons.forEach(function(t){e=e+"&reason="+t}),e=e+"&daterange="+new Date(this.dateRange[0]).getTime()+"&daterange="+new Date(this.dateRange[1]).getTime(),this.$axios.get("/inventory"+e).then(function(e){window.document.getElementsByClassName("el-main")[0].scroll(0,0),t.adjustments=e.data.adjustments,t.totalPages=e.data.pages,t.$emit("stop-loading")}).catch(function(){t.$message.error("Error loading stock adjustment database. Please contact your system administrator."),t.$emit("stop-loading")})}}},Mt=Ut,It=(s("955f"),Object(u["a"])(Mt,zt,Dt,!1,null,null,null)),Lt=It.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"new-stock-adjustment"},[s("el-page-header",{attrs:{title:"back to stock management",content:"New stock update"},on:{back:function(e){return t.$router.push("/inventory")}}}),s("h1",{staticClass:"title title--primary"},[t._v("New stock update")]),s("p",[t._v("Submit a manual increase or decrease of stock. Stock updates are recorded to the database to easily keep track of what's happening to your inventory.")]),s("el-form",{ref:"form",attrs:{"label-position":"top",model:t.form,rules:t.rules}},[s("el-form-item",{attrs:{label:"Adjument date"}},[s("el-date-picker",{attrs:{type:"datetime",placeholder:"Select date and time"},model:{value:t.form.datetime,callback:function(e){t.$set(t.form,"datetime",e)},expression:"form.datetime"}}),s("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){t.form.datetime=Date.now()}}},[t._v("Reset date and time to now")])],1),s("el-form-item",{attrs:{label:"Update type"}},[s("el-radio",{attrs:{label:"increase"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[s("i",{staticClass:"el-icon-sell"}),t._v("  Increase")]),s("el-radio",{attrs:{label:"decrease"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[s("i",{staticClass:"el-icon-sold-out"}),t._v("  Reduction")])],1),s("el-form-item",{attrs:{label:"Reason for update"}},[s("el-select",{attrs:{placeholder:"Select reason"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}},t._l(t.reasons[t.form.type],function(t,e){return s("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),s("el-divider"),s("el-form-item",{attrs:{label:"Add products to be adjusted"}},[t.toAdjust?t._e():s("el-select",{staticClass:"product-select",attrs:{placeholder:"Select a product"},model:{value:t.toAdjust,callback:function(e){t.toAdjust=e},expression:"toAdjust"}},t._l(t.availableProducts,function(t){return s("el-option",{key:t._id,attrs:{label:t.content.name,value:t}})}),1),s("el-collapse-transition",[t.toAdjust?s("el-form",{staticClass:"product-form"},[s("h3",[t._v(t._s(t.toAdjust.content.name))]),s("span",[t._v("Current total stock: "+t._s(t.toAdjust.inventory.totalStock))]),s("el-form-item",{attrs:{label:"increase"===t.form.type?"Increase stock by":"Reduce stock by"}},["increase"===t.form.type?s("el-input-number",{attrs:{min:1,step:1},model:{value:t.adjustBy,callback:function(e){t.adjustBy=e},expression:"adjustBy"}}):s("el-input-number",{attrs:{min:1,max:t.toAdjust.inventory.totalStock,step:1},model:{value:t.adjustBy,callback:function(e){t.adjustBy=e},expression:"adjustBy"}})],1),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.confirmProductAdjustment()}}},[t._v("Add")]),s("el-button",{on:{click:function(e){t.toAdjust=null}}},[t._v("Cancel")])],1):t._e()],1),s("el-table",{staticStyle:{width:"1101px"},attrs:{data:t.productTableComputed,border:""}},[s("el-table-column",{attrs:{prop:"name",label:"Product",width:"200px"}}),s("el-table-column",{attrs:{prop:"currentStock",label:"Current total stock count",width:"200px"}}),s("el-table-column",{attrs:{label:"Change",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s("increase"===t.form.type?"+ "+e.row.change:"- "+e.row.change)+"\n                    ")]}}])}),s("el-table-column",{attrs:{label:"New total stock count",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.newStock>=0?e.row.newStock:0))])]}}])}),s("el-table-column",{attrs:{label:"New available stock count",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{style:{color:e.row.newAvailableStock<0?"red":"#000"}},[t._v(t._s(e.row.newAvailableStock))])]}}])}),s("el-table-column",{attrs:{width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text"},on:{click:function(s){return t.removeProduct(e.$index)}}},[t._v("Delete "),s("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1),s("el-divider"),s("el-form-item",{attrs:{label:"Update notes - record any relevant information about the delivery or reduction of stock"}},[s("el-input",{attrs:{type:"textarea",maxlength:400},model:{value:t.form.notes,callback:function(e){t.$set(t.form,"notes",e)},expression:"form.notes"}})],1),t.error?s("el-alert",{attrs:{title:"Whoops",description:"Looks like you haven't added any products to the update",type:"error","show-icon":""}}):t._e(),s("el-button",{attrs:{type:"success"},on:{click:t.formSubmit}},[t._v("Apply update")])],1)],1)},qt=[],Bt={name:"new-stock-adjustment",data:function(){return{form:{datetime:Date.now(),type:"increase",reason:"",products:[],notes:""},productTable:[],reasons:{increase:["Delivery","Counting error"],decrease:["Sale(s) through untracked avenue","Defective/damaged product(s)","Loss/theft","Counting error"]},rules:{formRules:{}},products:[],showProductAdjustmentForm:!1,toAdjust:null,adjustBy:1,potentialStockIssue:!1,error:!1}},computed:{availableProducts:function(){return this.products.filter(function(t){return!1===t.used})},productTableComputed:function(){var t=this;return this.productTable.map(function(e){var s="increase"===t.form.type?1:-1;return e.newStock=e.currentStock+e.change*s,e.newAvailableStock=e.currentAvailableStock+e.change*s,t.potentialStockIssue=e.newAvailableStock<0,e})}},watch:{potentialStockIssue:function(t){t&&this.stockWarning()},"form.type":function(t){this.form.reason="increase"===t?"Delivery":"Sale(s) through untracked avenue"}},mounted:function(){var t=this;this.$emit("set-loading"),this.$axios({method:"get",url:"/products"}).then(function(e){var s=e.data;t.products=s.products.map(function(t){return t.used=!1,t}),t.form.reason="increase"===t.form.type?"Delivery":"Sale(s) through untracked avenue",t.$emit("stop-loading")}).catch(function(){t.$message.error("Error loading products. Please contact system administrator"),t.$emit("stop-loading")})},methods:{confirmProductAdjustment:function(){this.products[this.products.indexOf(this.toAdjust)].used=!0,this.form.products.push({id:this.toAdjust._id,name:this.toAdjust.content.name,previousTotalStock:this.toAdjust.inventory.totalStock,previousAvailableStock:this.toAdjust.inventory.totalStock-this.toAdjust.inventory.inFulfillment,change:this.adjustBy}),this.productTable.push({name:this.toAdjust.content.name,change:this.adjustBy,currentStock:this.toAdjust.inventory.totalStock,currentAvailableStock:this.toAdjust.inventory.totalStock-this.toAdjust.inventory.inFulfillment}),this.toAdjust=null},removeProduct:function(t){var e=this;console.log("removing"),console.log(t),this.products=this.products.map(function(s){return s._id===e.form.products[t].id&&(s.used=!1),s}),this.form.products.splice(t,1),this.productTable.splice(t,1),console.log(this.productTable)},stockWarning:function(){this.$alert("<p>Hey. Looks like you've requested a stock reduction which will leave you unable to fulfill pending, paid orders. If you inserted these numbers by mistake, you can dismiss this message. If not, you might want to review the currently outstanding orders, and cancel them if you are unable to fulfill them.</p><p><router-link to='/orders'</router-link></p>","Potential stock issue",{confirmButtonText:"Dismiss",dangerouslyUseHTMLString:!0})},formSubmit:function(){var t=this;if(0===this.form.products.length)this.error=!0;else{var e=this.form;e.datetime=new Date(e.datetime),e.products.forEach(function(t){var s="increase"===e.type?1:-1;t.newTotalStock=t.previousTotalStock+t.change*s,t.newAvailableStock=t.previousTotalStock+t.change*s}),this.$axios.post("/inventory",e).then(function(){t.$message.success("Executed new stock adjustment - requested stock levels have been adjusted, and changes recorded"),t.$router.push("/inventory")}).catch(function(){t.$message.error("Error adjusting stock. Please ensure form has been filled out correctly, and try reloading the page. If issue persists, contact your system administrator.")})}}}},Ht=Bt,Yt=(s("f89e"),Object(u["a"])(Ht,Wt,qt,!1,null,"d119ddb6",null)),Gt=Yt.exports,Vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Jt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"promotions"},[s("h1",{staticClass:"title title--primary"},[t._v("Promotions and Discounts")]),s("p",[t._v("This feature is coming soon!")])])}],Qt={},Kt=Object(u["a"])(Qt,Vt,Jt,!1,null,null,null),Xt=Kt.exports,Zt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},te=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"promotions"},[s("h1",{staticClass:"title title--primary"},[t._v("New Promotion")]),s("p",[t._v("This feature is coming soon!")])])}],ee={},se=Object(u["a"])(ee,Zt,te,!1,null,null,null),re=se.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"orders"},[s("h1",{staticClass:"title title--primary title--backgrounded"},[t._v("Orders")]),t.toFulfillCount>0?s("section",{staticClass:"section"},[s("el-alert",{attrs:{type:"success",closable:!1}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v("You have "+t._s(t.toFulfillCount)+" order"+t._s(t.toFulfillCount>1?"s":"")+" awaiting fulfillment.   "),s("router-link",{attrs:{to:"/fulfillment"}},[s("el-button",{attrs:{type:"primary"}},[t._v("Go to fulfillment wizard")])],1)],1)])],1):t._e(),s("section",{staticClass:"section"},[s("OrderTable",{attrs:{ordersRaw:t.ordersRaw}}),s("el-pagination",{attrs:{layout:"prev, pager, next","hide-on-single-page":!0,"page-count":t.totalPages},on:{"current-change":function(e){t.page=e-1}}})],1)])},ne=[],oe={name:"orders",components:{OrderTable:q},data:function(){return{ordersRaw:[],activeNames:["1"],page:0,totalPages:null}},computed:{toFulfillCount:function(){return this.ordersRaw.filter(function(t){return"Awaiting fulfillment"===t.fulfillment.orderStatus}).length}},watch:{page:function(){this.getOrders()}},mounted:function(){this.$emit("set-loading"),this.getOrders()},methods:{getOrders:function(){var t=this,e="?page="+this.page;this.$axios.get("/orders"+e).then(function(e){t.ordersRaw=e.data.orders,t.totalPages=e.data.pages,window.document.getElementsByClassName("el-main")[0].scroll(0,0),t.$emit("stop-loading")}).catch(function(){t.$message.error("Error loading orders. Please contact your system administrator"),t.$emit("stop-loading")})}}},ie=oe,le=(s("fca6"),Object(u["a"])(ie,ae,ne,!1,null,null,null)),ce=le.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fulfillment-wizard"},[s("h1",{staticClass:"title title--primary title--backgrounded"},[t._v("Fulfillment Wizard")]),0===t.orders.length?s("div",{staticClass:"empty"},[s("p",[t._v("No outstanding orders awaiting fulfillment. Sit back and relax!")])]):s("div",{staticClass:"wizard"},[s("div",{staticClass:"overview"},[s("p",[s("span",[t._v(t._s(t.currentOrder)+" orders fulfilled")]),s("span",[t._v(t._s(t.orders.length-t.currentOrder)+" orders remaining")])]),s("el-progress",{attrs:{percentage:t.currentOrder/t.orders.length*100,"show-text":!1}})],1),s("el-carousel",{ref:"order-carousel",attrs:{"indicator-position":"none",arrow:"never",autoplay:!1,height:"1300px",loop:!1}},t._l(t.orders,function(e,r){return s("el-carousel-item",{key:r},[s("div",{staticClass:"order-item"},[s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"inner-cell header"},[s("div",{staticClass:"left"},[s("h2",{staticClass:"title title--secondary"},[t._v("Order  "),s("span",{staticStyle:{color:"#444","font-size":"0.7em"}},[t._v("#"+t._s(e._id))])]),t.getRawTimeRemaining(e.date,e.fulfillment.shippingMethod.targetHours)>0?s("p",{staticClass:"summary"},[t.getRawTimeRemaining(e.date,e.fulfillment.shippingMethod.targetHours)<36e5?s("span",{staticStyle:{color:"red","font-weight":"500"}},[t._v("URGENT  ")]):t._e(),s("strong",[s("i",{staticClass:"el-icon-timer"}),t._v("\n                                            "+t._s(t.getTimeRemaining(e.date,e.fulfillment.shippingMethod.targetHours))+"\n                                        ")]),t._v("\n                                        until fulfillment deadline\n                                        (order placed \n                                        "),s("strong",[t._v(t._s(t.getAgo(e.date))+" ")]),t._v(")\n                                    ")]):s("p",{staticClass:"summary"},[s("span",{staticStyle:{color:"red","font-weight":"500"}},[t._v("URGENT - OVERDUE  ")]),s("strong",[s("i",{staticClass:"el-icon-timer"}),t._v("\n                                            "+t._s(t.getTimeRemaining(e.date,e.fulfillment.shippingMethod.targetHours).substr(1))+"\n                                        ")]),t._v("\n                                        passed since fulfillment deadline\n                                        (order placed \n                                        "),s("strong",[t._v(t._s(t.getAgo(e.date))+" ")]),t._v(")\n                                    ")])]),s("el-steps",{attrs:{"align-center":"",active:"Awaiting fulfillment"===e.fulfillment.orderStatus?1:2,"finish-status":"success"}},[s("el-step",{attrs:{title:"Payment",icon:"el-icon-bank-card"}}),s("el-step",{attrs:{title:"Fulfillment",icon:"el-icon-s-claim"}}),s("el-step",{attrs:{title:"Delivery",icon:"el-icon-truck"}})],1)],1)])],1),s("el-row",[s("el-col",{attrs:{span:16}},[s("div",{staticClass:"inner-cell items"},[s("h3",[t._v("Items")]),s("el-table",{attrs:{data:e.items,striped:""}},[s("el-table-column",{attrs:{width:"50px"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticClass:"product-image",attrs:{src:t.row.product.content.images[0].path}})]}}],null,!0)}),s("el-table-column",{attrs:{prop:"product.content.name",width:"300px",label:"Product"}}),s("el-table-column",{attrs:{prop:"quantity",label:"Quantity"}}),s("el-table-column",{attrs:{label:"Unit price"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v("£"+t._s(e.row.product.inventory.price))])]}}],null,!0)}),s("el-table-column",{attrs:{label:"Total"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v("£"+t._s(e.row.product.inventory.price*e.row.quantity))])]}}],null,!0)})],1)],1)]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"inner-cell address"},[s("h3",[t._v("Shipping address")]),s("p",[t._v(t._s(e.fulfillment.shippingAddress.firstName)+" "+t._s(e.fulfillment.shippingAddress.lastName))]),s("p",[t._v(t._s(e.fulfillment.shippingAddress.address))]),s("p",[t._v(t._s(e.fulfillment.shippingAddress.postcode))]),s("p",[t._v(t._s(e.fulfillment.shippingAddress.city))]),s("p",[t._v(t._s(e.fulfillment.shippingAddress.country.name))])])])],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("div",{staticClass:"inner-cell shipping-method"},[s("h3",[t._v("Shipping")]),s("p",[t._v(t._s(e.fulfillment.shippingMethod.name)+" - "+t._s(e.fulfillment.shippingMethod.days[0])+"-"+t._s(e.fulfillment.shippingMethod.days[1])+" business days")]),s("el-button",{attrs:{type:"primary"}},[t._v("Get postage label")])],1)]),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"inner-cell payment"},[s("h3",[t._v("Payment")]),s("div",{staticClass:"summary"},[s("p",[t._v("Status: "),s("br"),s("strong",{staticClass:"status",class:{paid:"paid"===e.payment.paymentStatus},staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(e.payment.paymentStatus))])]),s("p",[t._v("Provider: "),s("br"),s("strong",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(e.payment.provider))])]),s("p",[t._v("\n                                        Method:"),s("br"),"card"===e.payment.method?s("span",[s("strong",[t._v(t._s(e.payment.paymentCard.brand))]),t._v(" ending "),s("strong",[t._v(t._s(e.payment.paymentCard.last4))])]):t._e()])]),s("el-divider"),s("div",{staticClass:"totals"},[s("p",[s("strong",[t._v("Subtotal: ")]),t._v("£"+t._s(e.costs.subtotal.toFixed(2)))]),s("p",[s("strong",[t._v("Shipping: ")]),t._v("£"+t._s(e.costs.shipping.toFixed(2)))]),s("p",[s("strong",[t._v("Total: ")]),t._v("£"+t._s(e.costs.grandTotal.toFixed(2)))]),e.payment.invoiceURL?s("a",{attrs:{href:e.payment.invoiceURL,target:"_blank"}},[s("el-button",[t._v("View invoice")])],1):t._e()])],1)])],1),s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"inner-cell confirm"},[s("el-button",{attrs:{disabled:t.currentOrder<1,type:"warning"},on:{click:function(e){return t.previousOrder()}}},[s("i",{staticClass:"el-icon-arrow-left"}),t._v("Return to previous order")]),t.currentOrder<t.orders.length-1?s("el-button",{attrs:{type:"success",loading:t.loading},on:{click:function(e){return t.nextOrder()}}},[t._v("Mark as fulfilled and move onto next order"),s("i",{staticClass:"el-icon-arrow-right"})]):s("el-button",{attrs:{disabled:t.currentOrder>=t.orders.length,type:"success",loading:t.loading},on:{click:function(e){return t.finishWizard()}}},[t._v("Mark as fulfilled and finish wizard"),s("i",{staticClass:"el-icon-arrow-right"})])],1)])],1)],1)])}),1)],1)])},de=[],pe=s("c1df"),me={name:"fulfillment",methods:{getAgo:function(t){return pe(t).fromNow()},getRawTimeRemaining:function(t,e){t=new Date(t);var s=t.getTime()+36e5*e;return s-Date.now()},getTimeRemaining:function(t,e){var s=this.getRawTimeRemaining(t,e);return Math.abs(s)>36e5?Math.floor(s/36e5)+" hours":Math.floor(s/6e4)+" minutes"},finishWizard:function(){},previousOrder:function(){var t=this;this.loading=!0,this.currentOrder>0&&this.$axios.put("/orders/"+this.orders[this.currentOrder-1]._id,{status:"Awaiting fulfillment"}).then(function(){t.$refs["order-carousel"].prev(),t.currentOrder--,t.orders[t.currentOrder].fulfillment.orderStatus="Awaiting fulfillment",t.loading=!1}).catch(function(){t.$message.error("Couldn't return to previous order. Please contact your system administrator."),t.loading=!1})},nextOrder:function(){var t=this;this.currentOrder<this.orders.length-1&&(this.loading=!0,this.$axios.put("/orders/"+this.orders[this.currentOrder]._id,{status:"Fulfilled"}).then(function(){t.orders[t.currentOrder].fulfillment.orderStatus="Fulfilled",t.loading=!1,window.setTimeout(function(){t.$refs["order-carousel"].next(),t.currentOrder++},400)}).catch(function(){t.$message.error("Couldn't fulfill order. Please contact your system administrator."),t.loading=!1}))}},data:function(){return{currentOrder:0,loading:!1,orders:[],urgentCount:5}},mounted:function(){var t=this;this.$emit("set-loading"),this.$axios.get("/orders/fulfillment").then(function(e){var s=e.data;t.orders=s.orders,t.$emit("stop-loading")}).catch(function(){t.$message.error("Error loading fulfillment wizard. Please contact your system administrator. For urgent order management, please use the All Orders page."),t.$emit("stop-loading")})}},he=me,fe=(s("a697"),Object(u["a"])(he,ue,de,!1,null,null,null)),ge=fe.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-order"},[t.order?s("div",[s("el-page-header",{attrs:{title:"back to all orders",content:"order #"+t.order._id.substr(0,5)+"..."},on:{back:function(e){return t.$router.push("/orders")}}}),s("h1",{staticClass:"title title--primary"},[t._v("Order "),s("span",{staticStyle:{color:"#868686","font-size":"0.7em"}},[t._v("#"+t._s(t.order._id))])]),s("div",{staticClass:"order-item"},[s("el-row",[s("el-col",{attrs:{span:16}},[s("h3",[t._v("Status")]),s("el-steps",{attrs:{active:t.step,"finish-status":"success",space:200}},[s("el-step",{attrs:{title:0===t.step?"Pending payment":"Payment",icon:"el-icon-bank-card"}}),s("el-step",{attrs:{title:1===t.step?"Awaiting fulfillment":"Fulfillment",icon:"el-icon-s-claim"}}),s("el-step",{attrs:{title:2===t.step?"Fulfilled":"Delivery",icon:"el-icon-truck"}})],1)],1),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"customer"},[s("h3",[t._v("Customer")]),s("p",[t._v("Email: "+t._s(t.order.customer.email))]),s("el-button",[t._v("View customer")])],1)])],1),s("el-divider"),s("el-row",[s("el-col",{attrs:{span:14}},[s("div",{staticClass:"items"},[s("h3",[t._v("Items")]),s("el-table",{attrs:{data:t.order.items,striped:""}},[s("el-table-column",{attrs:{width:"50px"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticClass:"product-image",attrs:{src:t.row.product.content.images[0].path}})]}}],null,!1,3009882762)}),s("el-table-column",{attrs:{prop:"product.content.name",width:"300px",label:"Product"}}),s("el-table-column",{attrs:{prop:"quantity",width:"155px",label:"Quantity"}}),s("el-table-column",{attrs:{width:"155px",label:"Unit price"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v("£"+t._s(e.row.product.inventory.price))])]}}],null,!1,1314664866)}),s("el-table-column",{attrs:{width:"155px",label:"Total"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v("£"+t._s(e.row.product.inventory.price*e.row.quantity))])]}}],null,!1,1483771539)})],1)],1)])],1),s("el-divider"),s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"address"},[s("h3",[t._v("Shipping address")]),s("p",[t._v(t._s(t.order.fulfillment.shippingAddress.firstName)+" "+t._s(t.order.fulfillment.shippingAddress.lastName))]),s("p",[t._v(t._s(t.order.fulfillment.shippingAddress.address))]),s("p",[t._v(t._s(t.order.fulfillment.shippingAddress.postcode))]),s("p",[t._v(t._s(t.order.fulfillment.shippingAddress.city))]),s("p",[t._v(t._s(t.order.fulfillment.shippingAddress.country.name))])])]),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"shipping-method"},[s("h3",[t._v("Shipping Method")]),s("p",[t._v(t._s(t.order.fulfillment.shippingMethod.name)+" - "+t._s(t.order.fulfillment.shippingMethod.days[0])+"-"+t._s(t.order.fulfillment.shippingMethod.days[1])+" business days")])])])],1),s("el-divider"),s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"address"},[s("h3",[t._v("Billing address")]),s("p",[t._v(t._s(t.order.customer.billingAddress.firstName)+" "+t._s(t.order.customer.billingAddress.lastName))]),s("p",[t._v(t._s(t.order.customer.billingAddress.address))]),s("p",[t._v(t._s(t.order.customer.billingAddress.postcode))]),s("p",[t._v(t._s(t.order.customer.billingAddress.city))]),s("p",[t._v(t._s(t.order.customer.billingAddress.country.name))])])]),s("el-col",{attrs:{span:7}},[s("div",{staticClass:"payment"},[s("h3",[t._v("Payment")]),s("div",{staticClass:"summary"},[s("p",[t._v("Status: "),s("br"),s("strong",{staticClass:"status",class:{paid:"paid"===t.order.payment.paymentStatus},staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(t.order.payment.paymentStatus))])]),s("p",[t._v("Provider: "),s("br"),s("strong",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(t.order.payment.provider))])]),s("p",[t._v("\n                                Method:"),s("br"),"card"===t.order.payment.method&&"paid"===t.order.payment.paymentStatus?s("span",[s("strong",[t._v(t._s(t.order.payment.paymentCard.brand))]),t._v(" ending "),s("strong",[t._v(t._s(t.order.payment.paymentCard.last4))])]):"card"===t.order.payment.method?s("span",[t._v("Card - unconfirmed")]):s("span",[t._v(t._s(t.order.payment.method))])])]),s("div",{staticClass:"totals"},[s("p",[s("strong",[t._v("Subtotal: ")]),t._v("£"+t._s(t.order.costs.subtotal.toFixed(2)))]),s("p",[s("strong",[t._v("Shipping: ")]),t._v("£"+t._s(t.order.costs.shipping.toFixed(2)))]),s("p",[s("strong",[t._v("Total: ")]),t._v("£"+t._s(t.order.costs.grandTotal.toFixed(2)))]),t.order.payment.invoiceURL?s("a",{attrs:{href:t.order.payment.invoiceURL,target:"_blank"}},[s("el-button",[t._v("View invoice")])],1):t._e()])])])],1)],1)],1):t._e()])},ye=[],be={name:"product",props:["id"],data:function(){return{order:null}},computed:{step:function(){switch(this.order.fulfillment.orderStatus){case"Pending payment":return 0;case"Awaiting fulfillment":return 1;case"Fulfilled":return 2;default:return 0}}},mounted:function(){var t=this;24!==this.id.length?(this.$router.push("/orders"),this.$message.error("Whoops, that product doesn't seem to exist. Redirecting to products page.")):(this.$emit("set-loading"),this.$axios.get("/orders/"+this.id).then(function(e){t.order=e.data.order,t.$emit("stop-loading")}).catch(function(){t.$router.push("/orders"),t.$message.error("Whoops, looks like that product doesn't exist. Redirecting to products page."),t.$emit("stop-loading")}))},methods:{update:function(t,e,s){var r=this;this.$axios.put("/products/"+this.product._id,{toUpdate:e,updateWith:s}).then(function(){r.$message.success(t+" successfully updated. All new orders will use the updated price."),r.changing[t]=!1}).catch(function(){r.$message.error("Error updating "+t+". Please contact your system administrator.")})},createdCategory:function(t){this.categories.push(t),this.showNewCategoryForm=!1}}},_e=be,we=(s("0177"),Object(u["a"])(_e,ve,ye,!1,null,"0c68eaa4",null)),ke=we.exports,Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setup"},[s("section",{staticClass:"section"},[s("router-link",{attrs:{to:"/setup/wizard"}},[t._v("Wizard")]),s("h1",{staticClass:"title title--primary"},[t._v("Setup")]),s("el-row",{staticStyle:{"max-width":"1200px"}},[s("el-col",{attrs:{span:8}},[s("router-link",{attrs:{to:"/setup/shipping"}},[s("div",{staticClass:"grid-content"},[s("i",{staticClass:"el-icon-truck"}),s("div",[t._v("\n                            Shipping\n                            "),s("p",[t._v("Manage how you ship orders to customers")])])])])],1),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content"},[s("i",{staticClass:"el-icon-bank-card"}),s("div",[t._v("\n                        Payment Providers\n                        "),s("p",[t._v("Take control of how your users pay for their purchases")])])])]),s("el-col",{attrs:{span:8}},[s("router-link",{attrs:{to:"/setup/currencies"}},[s("div",{staticClass:"grid-content"},[s("i",{staticClass:"el-icon-coin"}),s("div",[t._v("\n                            Currencies\n                            "),s("p",[t._v("Take your business global by adding additional currencies")])])])])],1)],1)],1)])},xe=[],je=(s("3a4f"),{}),$e=Object(u["a"])(je,Ce,xe,!1,null,null,null),Se=$e.exports,Pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shipping"},[s("el-page-header",{attrs:{title:"Setup",content:"Shipping"},on:{back:function(e){return t.$router.push("/setup")}}}),s("h1",{staticClass:"title title--primary"},[t._v("Shipping")]),s("h2",{staticClass:"title title--secondary"},[t._v("Shipping methods")]),s("el-table",{attrs:{data:t.methods}},[s("el-table-column",{attrs:{prop:"name",label:"Name",width:"200px"}}),s("el-table-column",{attrs:{label:"Cost",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v("£"+t._s(e.row.cost.toFixed(2)))])]}}])}),s("el-table-column",{attrs:{label:"Estimated delivery time",width:"220px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.days[0])+"-"+t._s(e.row.days[1])+" days")])]}}])}),s("el-table-column",{attrs:{label:"Target fulfillment time",width:"220px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.targetHours)+" hours")])]}}])}),s("el-table-column",{attrs:{width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("i",{staticClass:"el-icon-delete-solid",staticStyle:{color:"#f56c6c",cursor:"pointer","font-size":"1.3em"},on:{click:function(e){t.deleting=!0}}}),s("el-dialog",{attrs:{visible:t.deleting,width:"30%"},on:{"update:visible":function(e){t.deleting=e}}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("Permenantly delete "),s("strong",[t._v(t._s(e.row.name))]),t._v("?")]),s("span",[t._v("Are you sure you want to delete this shipping method?")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.deleting=!1}}},[t._v("Cancel")]),s("el-button",{attrs:{type:"danger"},on:{click:function(s){return t.deleteMethod(e.row._id,e.$index)}}},[t._v("Delete")])],1)])]}}])})],1),s("router-link",{attrs:{to:"/setup/shipping/new"}},[s("el-button",{attrs:{type:"primary"}},[t._v("New shipping method")])],1),s("h2",{staticClass:"title title--secondary",staticStyle:{margin:"50px 0 10px 0"}},[t._v("Shipping days")]),s("el-form",{attrs:{"label-position":"top"}},[s("el-form-item",{attrs:{label:"Select the days on which you are fulfilling orders (affects calculation of fulfillment targets and estimated delivery dates)."}},[s("el-checkbox-group",{model:{value:t.shippingDays,callback:function(e){t.shippingDays=e},expression:"shippingDays"}},[s("el-checkbox",{attrs:{label:"Monday"}}),s("el-checkbox",{attrs:{label:"Tuesday"}}),s("el-checkbox",{attrs:{label:"Wednesday"}}),s("el-checkbox",{attrs:{label:"Thursday"}}),s("el-checkbox",{attrs:{label:"Friday"}}),s("el-checkbox",{attrs:{label:"Saturday"}}),s("el-checkbox",{attrs:{label:"Sunday"}})],1)],1),s("el-button",{attrs:{type:"success"}},[t._v("Save changes")])],1)],1)},Fe=[],Ae={name:"shipping",data:function(){return{shippingDays:["Monday","Tuesday","Wednesday","Thursday","Friday"],methods:[],deleting:!1}},mounted:function(){var t=this;this.$emit("set-loading"),this.$axios.get("/shipping-methods").then(function(e){t.methods=e.data.methods,t.$emit("stop-loading")}).catch(function(){t.$message.error("Failed to load shipping methods. Please contact your system administrator."),t.$emit("stop-loading")})},methods:{deleteMethod:function(t,e){var s=this;this.$axios.delete("/shipping-methods/"+t).then(function(){s.$message.success("Permenantly deleted shipping method - this method is no longer available in the checkout process"),s.methods.splice(e,1)}).catch(function(){s.$message.error("Error deleting shipping method. Please contact your system administrator.")})}}},Oe=Ae,Ne=(s("0b3a"),Object(u["a"])(Oe,Pe,Fe,!1,null,"29d93d4a",null)),Re=Ne.exports,Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"new-shipping-method"},[s("el-page-header",{attrs:{title:"Shipping",content:"New Shipping Method"},on:{back:function(e){return t.$router.push("/setup/shipping")}}}),s("h1",{staticClass:"title title--primary"},[t._v("New Shipping Method")]),s("el-form",{attrs:{model:t.method,"label-position":"top"}},[s("el-form-item",{attrs:{label:"Short description of the method"}},[s("el-input",{attrs:{placeholder:"eg. DHL Express Delivery"},model:{value:t.method.name,callback:function(e){t.$set(t.method,"name",e)},expression:"method.name"}})],1),s("el-form-item",[s("label",{staticClass:"el-form-item__label"},[t._v("Estimated delivery time range")]),s("el-slider",{attrs:{range:"",step:1,max:15},model:{value:t.method.days,callback:function(e){t.$set(t.method,"days",e)},expression:"method.days"}}),s("p",{staticStyle:{color:"#666",margin:"0"}},[t._v(t._s(t.method.days[0])+" - "+t._s(t.method.days[1])+" business days")])],1),s("el-form-item",{attrs:{label:"Shipping method cost"}},[t._v("\n            £ "),s("el-input-number",{model:{value:t.method.cost,callback:function(e){t.$set(t.method,"cost",e)},expression:"method.cost"}})],1),s("h4",{staticStyle:{"font-weight":"600"}},[t._v("Example preview")]),s("p",{staticStyle:{"font-size":"0.8em"}},[t._v('"'+t._s(t.method.name)+", "+t._s(t.method.days[0])+" - "+t._s(t.method.days[1])+" business days - £"+t._s(t.method.cost.toFixed(2))+'"')]),s("el-divider"),s("el-form-item",{attrs:{label:"Fulfillment target - how quickly do you aim to fulfill orders placed with this delivery method?"}},[t._v("\n            Within   "),s("el-input-number",{attrs:{min:1,max:96},model:{value:t.method.targetHours,callback:function(e){t.$set(t.method,"targetHours",e)},expression:"method.targetHours"}}),t._v("  hours of order being placed\n        ")],1),s("el-divider"),s("el-button",{attrs:{type:"success"},on:{click:function(e){return t.newShippingMethod()}}},[t._v("Create shipping method")])],1)],1)},Te=[],ze={name:"new-shipping-method",data:function(){return{method:{name:"",days:[2,3],cost:3,targetHours:24}}},methods:{newShippingMethod:function(){var t=this;this.$axios.post("/shipping-methods",this.method).then(function(){t.$message.success("Successfully created new shipping method"),t.$router.push("/setup/shipping")}).catch(function(){t.$message.error("Error creating new shipping method. Please try again, then contact your system administrator if problem persists.")})}}},De=ze,Ue=(s("ad80"),Object(u["a"])(De,Ee,Te,!1,null,"1082fc9d",null)),Me=Ue.exports,Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"currencies"},[s("el-page-header",{attrs:{title:"Setup",content:"Currencies"},on:{back:function(e){return t.$router.push("/setup")}}}),s("h1",{staticClass:"title title--primary"},[t._v("Currencies")]),s("section",{staticClass:"section"},[s("h2",{staticClass:"title title--secondary"},[t._v("Primary currency")]),s("p",[t._v("Select the primary currency that you do business in - this currency will be used to set prices, and will be used as the base currency for currency conversions.")]),s("el-form",[s("el-form-item",{attrs:{prop:"category"}},[s("el-select",{attrs:{placeholder:"Primary currency",filterable:""},model:{value:t.primaryCurrency,callback:function(e){t.primaryCurrency=e},expression:"primaryCurrency"}},t._l(t.currencyList,function(e,r){return s("el-option",{key:r,attrs:{label:e+" - "+r,value:r}},[s("span",{staticStyle:{float:"left"}},[t._v(t._s(e))]),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(r))])])}),1),s("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.updatePrimaryCurrency()}}},[t._v("Update")])],1)],1)],1),s("section",{staticClass:"section"},[s("h2",{staticClass:"title title--secondary"},[t._v("Available payment currencies")]),s("p",[t._v("Choose the currencies that you want your customers to be able to checkout in.")]),s("p",[t._v("Please note that the currencies displayed are dependent on the currencies supported by your chosen payment service provider. "),s("strong",[t._v("Stripe")]),t._v(" is your current payment provider. "),s("router-link",{attrs:{to:"/setup/payment-providers"}},[t._v("Click here to change your payment provider.")])],1),s("el-form",[s("el-form-item",{attrs:{prop:"category"}},[s("el-select",{attrs:{placeholder:"Primary currency",filterable:""},model:{value:t.primaryCurrency,callback:function(e){t.primaryCurrency=e},expression:"primaryCurrency"}},t._l(t.currencyList,function(e,r){return s("el-option",{key:r,attrs:{label:e+" - "+r,value:r}},[s("span",{staticStyle:{float:"left"}},[t._v(t._s(e))]),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(r))])])}),1),s("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.updatePrimaryCurrency()}}},[t._v("Update")])],1)],1)],1)],1)},Le=[],We={name:"currencies",data:function(){return{currencyList:null,primaryCurrency:null}},mounted:function(){var t=this;this.$axios.get("https://openexchangerates.org/api/currencies.json").then(function(e){var s=e.data;t.currencyList=s,t.getCurrentSettings()})},methods:{getCurrentSettings:function(){var t=this;this.$axios.get("/setup").then(function(e){var s=e.data;s.primaryCurrency&&(t.primaryCurrency=s.primaryCurrency.symbol)}).catch(function(){t.$message.error("Error loading current currency settings. Please try again, then contact your system administrator.")})},updatePrimaryCurrency:function(){var t=this;this.$axios.put("/currencies/primary",{name:this.currencyList[this.primaryCurrency],symbol:this.primaryCurrency}).then(function(){t.$message.success("Successfully updated primary currency")}).catch(function(){t.$message.error("Error updating primary currency. Please contact your system administrator."),t.getCurrentSettings()})}}},qe=We,Be=Object(u["a"])(qe,Ie,Le,!1,null,"de0e9384",null),He=Be.exports,Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setup-wizard-start"},[s("h1",{staticClass:"title title--primary title--backgrounded"},[t._v("Welcome to Lightning Commerce")]),s("section",{staticClass:"section"},[s("h2",{staticClass:"title title--secondary"},[t._v("Let's get you set up!")]),s("p",[t._v("Okay, first let's create an admin user which you'll use to login to your store's admin dashboard.")]),s("p",[t._v("This user will have full permissions access to all functionality. You'll be able to create new users with specific permissions later.")]),s("el-card",[s("p",[t._v("Please choose a password for the admin user:")]),s("el-input",{staticStyle:{"margin-bottom":"20px",width:"300px",display:"block"},attrs:{placeholder:"password"},on:{input:function(e){return t.getStrength()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("el-progress",{staticStyle:{width:"250px"},attrs:{percentage:20*t.strength,status:t.status}}),t.strength<3?s("p",{staticStyle:{margin:"5px 0"}},[s("small",[t._v("Password not strong enough")])]):t._e(),s("el-input",{staticStyle:{margin:"20px 0",width:"300px",display:"block"},attrs:{placeholder:"confirm password"},model:{value:t.passwordConfirm,callback:function(e){t.passwordConfirm=e},expression:"passwordConfirm"}}),t.error?s("el-alert",{staticStyle:{"margin-bottom":"20px !important",padding:"10px !important","font-size":"0.9em"},attrs:{type:"error",title:t.error,closable:!1}}):t._e(),s("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.next()}}},[t._v("Continue")])],1),s("el-card",[s("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.login()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginUsername,expression:"loginUsername"}],attrs:{type:"text",name:"username"},domProps:{value:t.loginUsername},on:{input:function(e){e.target.composing||(t.loginUsername=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginPassword,expression:"loginPassword"}],attrs:{type:"text",name:"password"},domProps:{value:t.loginPassword},on:{input:function(e){e.target.composing||(t.loginPassword=e.target.value)}}}),s("button",[t._v("Submit")])])])],1)])},Ge=[],Ve=s("580e"),Je={name:"setup-wizard-start",data:function(){return{password:"",passwordConfirm:"",strength:0,strengthMessage:"",status:null,error:null,loading:!1,loginUsername:"",loginPassword:""}},methods:{getStrength:function(){var t=Ve(this.password);switch(this.strength=t.score+1,t.score){case 1:this.status="exception",this.error&&(this.error="Password not strong enough.");break;case 2:this.status="warning",this.error&&(this.error=null);break;case 4:this.status="success",this.error&&(this.error=null);break}},next:function(){var t=this;this.error=null,this.strength<3?this.error="Password not strong enough.":this.passwordConfirm!==this.password?this.error="Whoops, those passwords don't match.":(this.loading=!0,this.$axios.post("/setup/users",{username:"admin",isRoot:!0,password:this.password}).then(function(e){t.loading=!1,t.$router.push("/setup/wizard/password-reset")}).catch(function(e){t.loading=!1,t.$message.error("Error creating account"),t.$message.error(e.message)}))},login:function(){this.$axios.post("/login",{username:this.loginUsername,password:this.loginPassword}).then(function(t){console.log(t)}).catch(function(t){console.error(t)})}}},Qe=Je,Ke=Object(u["a"])(Qe,Ye,Ge,!1,null,null,null),Xe=Ke.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setup-wizard-start"},[s("h1",{staticClass:"title title--primary title--backgrounded"},[t._v("Welcome to Lightning Commerce")]),s("section",{staticClass:"section"},[s("h2",{staticClass:"title title--secondary"},[t._v("Password reset setup")]),s("p",[t._v("You can choose an email address to send a recovery email to in the case that you lose the admin password.")]),s("p",[t._v("In order to setup password reset, you will need to have an email service setup on your domain.")]),t._m(0),s("el-card",[s("p",[t._v("Please enter a valid email address to send a recovery email to if you lose your password:")]),s("el-input",{staticStyle:{"margin-bottom":"20px",width:"300px",display:"block"},attrs:{placeholder:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.next()}}},[t._v("Continue")]),s("el-button",{on:{click:function(e){return t.skip()}}},[t._v("Skip password reset setup - "),s("strong",[t._v("not recommended")])])],1)],1)])},ts=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Please note that this step is optional, however we "),s("strong",[t._v("highly recommend")]),t._v(" setting up email password recovery, as without it "),s("strong",[t._v("access to your store could be permenantly lost")]),t._v(" if you forget the password.")])}],es=(s("580e"),{name:"setup-wizard-start",data:function(){return{email:"",loading:!1}},methods:{next:function(){},skip:function(){}}}),ss=es,rs=Object(u["a"])(ss,Ze,ts,!1,null,null,null),as=rs.exports;r["default"].use(v["a"]);var ns=new v["a"]({mode:"history",base:"/admin/",routes:[{path:"/login",name:"login",component:P},{path:"/",name:"dashboard",component:k},{path:"/customers",name:"customers",component:E},{path:"/customers/:id",name:"customer",component:G,props:!0},{path:"/products",name:"products",component:dt},{path:"/products/new",name:"newProduct",component:Ft},{path:"/products/:id",name:"product",component:Tt,props:!0},{path:"/inventory",name:"inventory",component:Lt},{path:"/inventory/new",name:"newAdjustment",component:Gt},{path:"/promotions",name:"promotions",component:Xt},{path:"/promotions/new",name:"newPromotion",component:re},{path:"/orders",name:"orders",component:ce},{path:"/orders/:id",name:"order",component:ke,props:!0},{path:"/fulfillment",name:"fulfillment",component:ge},{path:"/setup",name:"setup",component:Se},{path:"/setup/shipping",name:"shipping-setup",component:Re},{path:"/setup/shipping/new",name:"new-shipping-method",component:Me},{path:"/setup/currencies",name:"currency-setup",component:He},{path:"/setup/wizard",redirect:"/setup/wizard/register"},{path:"/setup/wizard/register",name:"setup-wizard-start",component:Xe},{path:"/setup/wizard/password-reset",name:"setup-wizard-password-reset",component:as}],methods:{setData:function(t,e){t?this.error=t.message:this.product=e}}}),os=s("5c96"),is=s.n(os),ls=(s("0fae"),s("b2d6")),cs=s.n(ls),us=s("bc3a"),ds=s.n(us);r["default"].use(is.a,{locale:cs.a});var ps=ds.a.create({baseURL:"/api/admin/"});r["default"].prototype.$axios=ps,r["default"].config.productionTip=!1,new r["default"]({router:ns,render:function(t){return t(g)}}).$mount("#app")},"5a49":function(t,e,s){},"5c0b":function(t,e,s){"use strict";var r=s("5e27"),a=s.n(r);a.a},"5d79":function(t,e,s){},"5e27":function(t,e,s){},"65db7":function(t,e,s){"use strict";var r=s("5d79"),a=s.n(r);a.a},7302:function(t,e,s){"use strict";var r=s("b4a1"),a=s.n(r);a.a},"764c":function(t,e,s){"use strict";var r=s("fe4a"),a=s.n(r);a.a},"8f1c":function(t,e,s){},"955f":function(t,e,s){"use strict";var r=s("8f1c"),a=s.n(r);a.a},"9d64":function(t,e,s){t.exports=s.p+"../../public/admin/img/logo.4f709858.png"},a120:function(t,e,s){},a697:function(t,e,s){"use strict";var r=s("27c7"),a=s.n(r);a.a},ad80:function(t,e,s){"use strict";var r=s("b56f"),a=s.n(r);a.a},b4a1:function(t,e,s){},b56f:function(t,e,s){},b688:function(t,e,s){},ceca:function(t,e,s){},ddd1:function(t,e,s){"use strict";var r=s("ceca"),a=s.n(r);a.a},f359:function(t,e,s){},f89e:function(t,e,s){"use strict";var r=s("fe0a"),a=s.n(r);a.a},fca6:function(t,e,s){"use strict";var r=s("0935"),a=s.n(r);a.a},fda6:function(t,e,s){},fe0a:function(t,e,s){},fe4a:function(t,e,s){}});
//# sourceMappingURL=app.95a84f35.js.map